<!DOCTYPE html>
<html lang="en">
    <head>
        <h1>Weipeng's Log Book</h1>
        <meta name="description" content="Weipeng Log Book" />
        <meta name="robots" content="noindex nofollow" />
        <meta http-equiv="author" content="Weipeng" />
        <meta http-equiv="pragma" content="no-cache" />
    </head>
    <body>
        <h1 id="week1">Week 1</h1>

        <ul style="line-height: 30px;">
            <li>May 21, 2020
                <ul>
                    <li>Finished project webpage framework</li>
                    <li>Finished github set up</li>
                </ul>
            </li>
            <br/>
            <li>May 22, 2020
                <ul>
                    <li>Set up Nucleo board for programming</li>
                    <li>Can't set up Atollic, switch to CubeIDE</li>
                    <li>Encounter "GDB server" error. Solved by switch power source to ST-link</li>
                </ul>
            </li>
            <br/>
            <li>May 23, 2020
                <ul>
                    <li>continue on Nucleo board programming</li>
                    <li>code can be complied and uploaded successfully, when push blue button, difficult to tell if it's triggered because of reciving message</li>
                    <li>need to figure out a way to verify message is actually received</li>
                    <li>try to work with external button and LEDs
                        <ul>
                            <li>Buttons are set to active low by default</li>
                            <li>Blue Button is PC13</li>
                            <li>Pinout Map
                                <table>
                                    <tr>
                                        <td>Floor</td>
                                        <td>Button</td>
                                        <td>LED</td> 
                                    </tr>
                                    <tr>
                                        <td> 1 </td>
                                        <td> PC13 </td>
                                        <td> PA5 </td>
                                    </tr>
                                    <tr>
                                        <td> 2 </td>
                                        <td> PC12 </td>
                                        <td> PA6 </td>
                                    </tr>
                                    <tr>
                                        <td> 3 </td>
                                        <td> PC11 </td>
                                        <td> PA7 </td>
                                    </tr>
                                </table>
                            </li>
                            <li>set EXIT15_10_IRQHandler() to check which line flag is set, then pass the pin to HAL_GPIO_EXTI_IQRHandler()</li>
                            <li>According to the passed-in pin, HAL_GPIO_EXTI_Callback() will set different button flag</li>
                            <li>In main function, will send out different floor message according to button flags</li>
                        </ul>
                    </li>
                    <li>Set up filter
                        <ul>
                            <li>Assume need to accept ID 0x100 to 0x103</li>
                            <li>Set filter.FilterIdHight to 0x0100&lt&lt5 (shift 5 digit to 5 because standard ID only has 11 digits)</li>
                            <li>Set filter.FilterMaskIdHigh to 0xFF80 (for the 11-digit ID, the left 9 digits have to exact match)</li>
                            <li>set sender ID to 0x100 ~ 0x103, the LEDs works properly</li>
                            <li>set sender ID to 0x104, the LED does not respond. Filter works properly</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <br/>
                
        </ul>

        <h1 id="week2">Week 2</h1>
        <ul style="line-height: 30px;">
            <li>May 25, 2020
                <ul>
                    <li>Nucleo64 CAN demo wiring diagram</li>
                    <img src="../images/CAN demo wiring diagram.png" alt="Wiring diagram" title = "Wiring diagram" width = "500"/>  
                </ul>
            </li>
            <li>May 28, 2020
                <ul>
                    <li>Update Project Webpage</li>
                        <ol>
                            <li>Added meta tags</li>
                            <li>Added login and request access pages</li>
                            <li>Added google map iframe</li>
                        </ol>
                </ul>
            </li>
        </ul>
    </body>
</html>